

// mixins & constants

@mixin border {
    border: 5px solid #0ff;
}

@mixin transdefaults($params) {
    transition: $params;
    -webkit-transition: $params;
    -moz-transition: $params;
    -o-transition: $params;
}

$col-padding: 4.5rem;

.typeset p {
    text-indent: 5rem;
    -moz-hyphens: auto;
    -webkit-hyphens: auto;
    -o-hyphens: auto;
    hyphens: auto;
}

.typeset p img {
    display: block;
}

body {
    overflow: hidden;
}

.main-wrapper {

    @include outer-container(100%);

    background-color: lighten($bodyColour, 25%);

    @include media-query($on-laptop){
        background-color: $backgroundColour;
    }

    @include media-query($on-palm){
        overflow-y: scroll;
        height: 100vh;
        margin-right: -55px;
    }
}

.typeset p.left-justify {
    text-indent: 0;
}

// Perfect scrollbar overrides
//
// issue with typeset text-indent applying to images
// wrapped in <p> as parsed by markdown, forcing
// x scroll

.ps#left {

    .ps__scrollbar-y-rail{ left: 0; }
    .ps__scrollbar-x-rail{ display: none; }
}

.ps#right, .ps#pasp {

    .ps__scrollbar-y-rail{ right: 0.2rem; }
    .ps__scrollbar-x-rail{ display: none; }

}

// * * * * * Landing Page Elements * * * * *

// General column content

.column, .typeset#pasp {

    @include span-columns(6);
    background-color: $backgroundColour;
    position: relative;
    height: 100vh;
    overflow-y: scroll;
    overflow-x: hidden;
    margin: 0;
    padding: 0 $col-padding;
    z-index: 2;

    h2 { text-align: center; }

    @include media-query($on-palm){
        @include outer-container(100%);
        @include span-columns(12);
        position: inherit;
        height: auto;
    }

    @media screen and (min-width: 480px) and (max-width: $on-palm) {
        padding-top: 0;
        padding-bottom: 0;
        padding-left: 2 * $col-padding;
        padding-right: 2 * $col-padding;
    }

    @media screen and (max-width: 480px) {
        padding: 0 1rem;
    }
}

.column#left {

    @include transdefaults(margin .5s ease-out 0s);

    /** start styles for testing left column reverse **/

    background-color: lighten($bodyColour, 25%);
    color: $backgroundColour;

    h2.post-title, .site-title h4, a {
        color: $backgroundColour;
    }

    a.site-title,
    a.site-title:hover,
    a.site-title:focus {
        text-decoration: none;
    }

    & a, & a:hover, & a:hover,
    & a:focus, & a:visited { 
        color: $backgroundColour;
        background-image: none;
        cursor: pointer;
        text-shadow: unset;
        text-decoration: underline;
    }

    & a:hover { 
        color: $linkColour; 
    }

    /** end test styles **/
}

.column#right {
    float: right;
    @include transdefaults(margin .5s ease-out 0s);
}


// Publishing as Practice Reveal Pane

.column#left.reveal {
    margin-left: -50%;
    @include transdefaults(margin .5s ease-out 0s);
}

.column#right.reveal {
    margin-right: 50%;
    @include transdefaults(margin .5s ease-out 0s);
}

.column#left.reveal,
.column#right.reveal {

    @include media-query($on-palm){
        margin: 0 auto;
    }
}

.pasp-reveal {
    @include media-query($on-palm) {
        display: none;
    }
}

#pasp .pasp-reveal:hover {
    .close-x {
        stroke: $linkColour;
    }
}

#pasp .pasp-reveal {

    float: right;
    margin-top: 2rem;

    width: 75px;
    height: 75px;

    cursor: pointer;

    .close-x {
      stroke: darken($hwBlue, 10%);
      fill: transparent;
      stroke-width: 2;
    }
}

.typeset#pasp {
    
    top: -100vh;
    float: right;
    z-index: 1;
    background-color: lighten($hwOrange, 2%);

    article.post {

        padding-top: 7.75rem;

        h1,h2,h3,h4,p {
            color: darken($hwBlue, 10%);    
        }

        h3 {
            line-height: 3rem;
        }

        & a, & a:hover, & a:hover,
        & a:focus, & a:visited { 
            color: darken($hwBlue, 10%);
            background-image: none;
            cursor: pointer;
            text-shadow: unset;
            text-decoration: underline;
        }

        & a:hover { 
            color: $linkColour; 
        }

        img {
            width: 200px
        }
    }
}

// Both column headers


// OLD STYLES

// header.site-header {

//     @include span-columns(6 of 6);
//     height: auto;
//     min-height: 10rem;

//     & a, & a:hover, & a:hover,
//     & a:focus, & a:visited { 
//         color: $bodyColour;
//         background-image: none;
//         cursor: pointer;
//     }

//     & a:hover { 
//         color: $linkColour; 
//     }

//     & a.site-title h1 {

//         font-size: 56.6px;
//         text-align: center;
//         margin-top: 1rem;
//     }
    
//     & a span{
//         font-family: "Times New Roman Seven", Times, serif;
//         font-weight: 300;
//     }

// }


// bother column headers

header.site-header {

    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    padding-top: 2rem;

    & a, & a:hover, & a:hover,
    & a:focus, & a:visited { 
        color: $bodyColour;
        background-image: none;
        cursor: pointer;
    }

    & a:hover { 
        color: $linkColour; 
    }
    
    & a span{
        font-family: "Times New Roman Seven", Times, serif;
        font-weight: 300;
    }
}

// left column header

header.site-header.left {

    margin-bottom: 4rem;

    a {
        width: 33%;

        h4 {
            margin: 0;
        }
    }

    // header left stacked site titles

    a:nth-of-type(1),
    a:nth-of-type(4) {
        text-align: left;
    }
    a:nth-of-type(2),
    a:nth-of-type(5) {
        text-align: center;
    }
    a:nth-of-type(3),
    a:nth-of-type(6) {
        text-align: right;
    }
}

// right column header nav

header.site-header.right {

    margin-bottom: -3rem;
    
    div.info {
        width: 100%;
    }

    .info-wrapper{

        display: flex;
        flex-wrap: no-wrap;
        justify-content: space-between;

        & div {

            font-family: "Times New Roman Seven", Times, serif;
            font-size: 1.5rem;
            font-weight: 300;
            // margin-top: 1rem;

            @include media-query($on-palm){
                @include span-columns(12);
            }

            & p {
                text-align: left;
                text-indent: 0;
                margin-top: 0;
                line-height: 2.3rem;
            }
        }

        & div:nth-of-type(2) p {
            text-align: center;
        }

        & span { font-family:  Lars, "Helvetica Neue", sans-serif; }

        & .pasp-reveal:hover p{
            color: lighten($hwOrange, 5%);
        }

        @media screen and (max-width: $on-palm) {
        
            & p { margin: 0; }

            & div:first-child p {
                margin-top: $col-padding/2;
            }
            & #info-button { 
                margin-bottom: $col-padding/2; 
            }
        }
    }
}

header.site-header {

    & .slide .info-wrapper p {
        margin: 0;
    }

    & .slide div.info-wrapper:nth-child(2) {
        margin-bottom: 3rem;
    }
}

// Info slide in panel

.slide {
    height: auto;
}

.slide .excerpted {
    overflow: hidden;
}

.slide .expanded {

    color: $backgroundColour;
    background-color: $bodyColour;
    position: relative;
    left: -$col-padding;
    min-width: 49.5vw;
    margin-bottom: $col-padding/2;
    padding: 0 $col-padding;
    max-height: 0;
    overflow: hidden;
    @include transdefaults(max-height .5s ease-out 0s);
    
    & > p { clear: both; }

    & > p:last-child { padding-bottom: $col-padding/2; }

    @media screen and (min-width: 480px) and (max-width: $on-palm) {
        width: 98vw;
        left: -2 * $col-padding;
    }


    @media screen and (max-width: 480px) {

        min-width: 100vw;
        left: -1rem;
        padding: 0 1rem;
    
        & > p:last-child { padding-bottom: 1rem; }
    }
}

.slide .expanded.show {

    // height for expanded info panel

    max-height: 65rem;

    @media screen and (max-width: 480px) {
        max-height: 100rem;
    }


    // mailchimp embed form
    & div#mc_embed_signup {
    
        width: 75%;
        float: left;
        margin-left: 12.5%;

        label { display: none; }
        
        & div.mc-field-group,
        & div.clear {
        
            display: inline;
            float: left;

        }

        // mc input field
        & div.mc-field-group {

            width: 90%;
            margin-bottom: 1.55rem;

            & input {
                width: 100%;
                height: 2.75rem;
                color: $backgroundColour;
                border: 2px solid $backgroundColour;
                padding-left: 1rem;
                border-radius: 0;
            }

            & input::placeholder {
                font-family: unquote(map-get($headingtype, font-family));
                font-style: normal;
                font-weight: map-get($bodytype, regular);
            }
       }

        // mc input button
        & div.clear { width: 10%; float: right; }
        & div.clear input.button {

            height: 2.75rem;
            background-color: $backgroundColour;
            color: $bodyColour;
            font-size: 2rem;
            padding: 0 0.3rem;
            border: unset;
            border-radius: 1px;
            margin: 0;
        }

        & div.clear input.button:hover {
            color: $linkColour;
        }
    }

    @include transdefaults(max-height .75s ease-out 0s)
}

h2.post-title {
    text-transform: uppercase;
}

header.post-header p {
    text-indent: 0;
    text-align: center;
}

article.post {
    margin-bottom: 4rem;
}

article.post div.post-content {

    & ul {
        list-style: decimal;
    }

    & ol li, & ul li {

        padding-top: .75rem;
        text-indent: 0;
        padding-left: .5rem;
    }
}

// * * * * * Splash Page Elements * * * * *

#splash {
    
    overflow: hidden;
    width: 100vw;
    height: 100vh;
    z-index: 3;

    @include transdefaults(background-color 2s linear);
 
    span {
        @include transdefaults(color .5s linear);
    }

    p {

        position: absolute;
        right: 5%;

        display: inline-block;
        line-height: 5rem;
        letter-spacing: .8rem;

        font-family: Kadisoka;
        text-transform: uppercase;
        font-size: 4.25rem;
        @include transdefaults(color .5s linear);

        @include media-query ($on-palm){
            display: none;
        }
    }

    p#hw {

        top: 15%;
        text-indent: -8rem;
    }

    p#bd {

        top: 47%;
        margin-right: 10%;
        text-align: center;
    }

    p#ms{
        top: 65%;
    }

    div.scroll-wrapper {
        position: absolute;
        top: 0;
        overflow: auto;
        width: 105vw;
        max-height: 100vh;
    }

    div.scroll-wrapper div {

        width: 20%;
        max-width: 300px;
        margin-left: 2rem;
        float: left;

        @include media-query ($on-palm){
            width: 33%;
            margin-left: 0;
        }
    
        span { 
            display: block; 
            font-family:  Lars, "Helvetica Neue", sans-serif;
            font-size: 1.1rem;
            line-height: 1.2rem;
            text-transform: uppercase;

            @include media-query ($on-palm){
                font-size: .75rem;
                line-height: .75rem;
            }

        }
    }

    div.scroll-wrapper div.col-2 {
        margin-left: 3%;

        @include media-query($on-palm){
            margin-left: 10%;
        }

    }
}

// splash scroll color schemes

#splash.default {
    background-color: lighten($bodyColour, 10%);
    span,p {
        color: $backgroundColour;
    }
}

#splash.inverse {
    background-color: $backgroundColour;
    span,p {
        color: $bodyColour;
    }
}

#splash.hw {
    background-color: $backgroundColour;
    span,p {
        color: $hwBlue;
    }
}

#splash.ms {
    background-color: lighten($msGreen, 5%);
    span,p {
        color: $bodyColour;
    }
}

#splash.bd {
    background-color: $bYellow;
    span,p {
        color: $backgroundColour;
    }
}