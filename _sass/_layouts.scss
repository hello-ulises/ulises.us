@mixin border {
    border: 5px solid #0ff;
}

@mixin transdefaults($params) {
    transition: $params;
    -webkit-transition: $params;
    -moz-transition: $params;
    -o-transition: $params;
}

$col-padding: 4.5rem;

.typeset p {
    text-indent: 5rem;
    -moz-hyphens: auto;
    -webkit-hyphens: auto;
    -o-hyphens: auto;
    hyphens: auto;
}

.typeset p img {
    display: block;
}

.main-wrapper {

    @include outer-container(100%);

    background-color: $bodyColour;

    @include media-query($on-laptop){
        background-color: $backgroundColour;
    }
}

// * * * * * Home Page Elements * * * * *

// General column content

.column {

    @include span-columns(6);
    background-color: $backgroundColour;
    position: relative;
    height: 100vh;
    overflow-y: scroll;
    overflow-x: hidden;
    margin: 0;
    padding: 0 $col-padding;

    h2 { text-align: center; }

    @include media-query($on-palm){
        @include outer-container(100%);
        @include span-columns(12);
        position: inherit;
        height: auto;
    }

    @media screen and (min-width: 480px) and (max-width: $on-palm) {
        padding-top: 0;
        padding-bottom: 0;
        padding-left: 2 * $col-padding;
        padding-right: 2 * $col-padding;
    }

    @media screen and (max-width: 480px) {
        padding: 0 1rem;
    }
}

.column#right {
    float: right;
}

// Both column headers

header.site-header {

    @include span-columns(6 of 6);
    height: auto;
    min-height: 10rem;

    & a, & a:hover, & a:hover,
    & a:focus, & a:visited { 
        color: $bodyColour;
        background-image: none;
        cursor: pointer;
    }

    & a:hover { 
        color: $hoverColour; 
    }

    & a.site-title h1 {

        font-size: 56.6px;
        text-align: center;
        margin-top: 1rem;
    }
    
    & a span{
        font-family: "Times New Roman Seven", Times, serif;
        font-weight: 300;
    }

}


header.site-header .info-wrapper{

    @include row();

    & div {

        @include span-columns(3 of 6);
        font-family: "Times New Roman Seven", Times, serif;
        font-size: 1.5rem;
        font-weight: 300;
        margin-top: 1rem;

        @include media-query($on-palm){
            @include span-columns(12);
        }

        & p { 
            text-align: center;
            text-indent: 0;
        }
    }

    & span { font-family:  Lars, "Helvetica Neue", sans-serif; }

    @media screen and (max-width: $on-palm) {
    
        & p { margin: 0; }

        & div:first-child p {
            margin-top: $col-padding/2;
        }
        & #info-button { 
            margin-bottom: $col-padding/2; 
        }
    }
}

header.site-header {

    & .slide .info-wrapper p {
        margin: 0;
    }

    & .slide div.info-wrapper:nth-child(2) {
        margin-bottom: 4rem;

    }
}

// Post

.slide {
    height: auto;
}

.slide .excerpted {
    overflow: hidden;
}

.slide .expanded {
    color: $backgroundColour;
    background-color: $bodyColour;
    position: relative;
    left: -$col-padding;
    min-width: 49.5vw;
    margin-bottom: $col-padding/2;
    padding: 0 $col-padding;
    max-height: 0;
    overflow: hidden;
    @include transdefaults(max-height .3s ease-out 0s);
    
    & > p { clear: both; }

    & > p:last-child { padding-bottom: $col-padding/2; }

    @media screen and (min-width: 480px) and (max-width: $on-palm) {
        width: 98vw;
        left: -2 * $col-padding;
    }


    @media screen and (max-width: 480px) {

        min-width: 100vw;
        left: -1rem;
        padding: 0 1rem;
    
        & > p:last-child { padding-bottom: 1rem; }
    }
}

.slide .expanded.show {
    max-height: 60rem;
    @include transdefaults(max-height .3s ease-out 0s)
}

h2.post-title {
    text-transform: uppercase;
}

header.post-header p {
    text-indent: 0;
    text-align: center;
}

article.post {
    margin-bottom: 4rem;
}

article.post div.post-content {

    & ul {
        list-style: decimal;
    }

    & ol li, & ul li {

        padding-top: .75rem;
        text-indent: 0;
        padding-left: .5rem;
    }
}

// Perfect scrollbar overrides
//
// issue with typeset text-indent applying to images
// wrapped in <p> as parsed by markdown, forcing
// x scroll

.ps#left {

    .ps__scrollbar-y-rail{ left: 0; }
    .ps__scrollbar-x-rail{ display: none; }
}

.ps#right {

    .ps__scrollbar-y-rail{ right: 0.2rem; }
    .ps__scrollbar-x-rail{ display: none; }

}