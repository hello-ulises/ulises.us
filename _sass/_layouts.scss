

// mixins & constants

@mixin border {
    border: 5px solid #0ff;
}

@mixin transdefaults($params) {
    transition: $params;
    -webkit-transition: $params;
    -moz-transition: $params;
    -o-transition: $params;
}

$col-padding: 4.5rem;

.typeset p {
    text-indent: 5rem;
    -moz-hyphens: auto;
    -webkit-hyphens: auto;
    -o-hyphens: auto;
    hyphens: auto;
}

.typeset p img {
    display: block;
}

.main-wrapper {

    @include outer-container(100%);

    background-color: $bodyColour;

    @include media-query($on-laptop){
        background-color: $backgroundColour;
    }
}

// * * * * * Home Page Elements * * * * *

// General column content

.column {

    @include span-columns(6);
    background-color: $backgroundColour;
    position: relative;
    height: 100vh;
    overflow-y: scroll;
    overflow-x: hidden;
    margin: 0;
    padding: 0 $col-padding;

    h2 { text-align: center; }

    @include media-query($on-palm){
        @include outer-container(100%);
        @include span-columns(12);
        position: inherit;
        height: auto;
    }

    @media screen and (min-width: 480px) and (max-width: $on-palm) {
        padding-top: 0;
        padding-bottom: 0;
        padding-left: 2 * $col-padding;
        padding-right: 2 * $col-padding;
    }

    @media screen and (max-width: 480px) {
        padding: 0 1rem;
    }
}

.column#right {
    float: right;
}

// Both column headers


// OLD STYLES

// header.site-header {

//     @include span-columns(6 of 6);
//     height: auto;
//     min-height: 10rem;

//     & a, & a:hover, & a:hover,
//     & a:focus, & a:visited { 
//         color: $bodyColour;
//         background-image: none;
//         cursor: pointer;
//     }

//     & a:hover { 
//         color: $linkColour; 
//     }

//     & a.site-title h1 {

//         font-size: 56.6px;
//         text-align: center;
//         margin-top: 1rem;
//     }
    
//     & a span{
//         font-family: "Times New Roman Seven", Times, serif;
//         font-weight: 300;
//     }

// }

header.site-header {

    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    padding-top: 2rem;
    margin-bottom: 5rem;


    a {
        width: 33%;

        h4 {
            margin: 0;
        }
    }

    a:nth-of-type(1),
    a:nth-of-type(4) {
        text-align: left;
    }
    a:nth-of-type(2),
    a:nth-of-type(5) {
        text-align: center;
    }
    a:nth-of-type(3),
    a:nth-of-type(6) {
        text-align: right;
    }

    & a, & a:hover, & a:hover,
    & a:focus, & a:visited { 
        color: $bodyColour;
        background-image: none;
        cursor: pointer;
    }

    & a:hover { 
        color: $linkColour; 
    }
    
    & a span{
        font-family: "Times New Roman Seven", Times, serif;
        font-weight: 300;
    }

}

div.info {
    width: 100%;
}

header.site-header .info-wrapper{

    @include row();

    display: flex;
    flex-wrap: no-wrap;
    justify-content: space-between;

    & div {

        font-family: "Times New Roman Seven", Times, serif;
        font-size: 1.5rem;
        font-weight: 300;
        // margin-top: 1rem;

        @include media-query($on-palm){
            @include span-columns(12);
        }

        & p {
            text-align: left;
            text-indent: 0;
            margin-top: 0;
            line-height: 2.3rem;
        }
    }

    & div:nth-of-type(2) p {
        text-align: center;
    }

    & span { font-family:  Lars, "Helvetica Neue", sans-serif; }

    @media screen and (max-width: $on-palm) {
    
        & p { margin: 0; }

        & div:first-child p {
            margin-top: $col-padding/2;
        }
        & #info-button { 
            margin-bottom: $col-padding/2; 
        }
    }
}

header.site-header {

    & .slide .info-wrapper p {
        margin: 0;
    }

    & .slide div.info-wrapper:nth-child(2) {
        margin-bottom: 4rem;
    }
}

// Post

.slide {
    height: auto;
}

.slide .excerpted {
    overflow: hidden;
}

.slide .expanded {

    color: $backgroundColour;
    background-color: $bodyColour;
    position: relative;
    left: -$col-padding;
    min-width: 49.5vw;
    margin-bottom: $col-padding/2;
    padding: 0 $col-padding;
    max-height: 0;
    overflow: hidden;
    @include transdefaults(max-height .3s ease-out 0s);
    
    & > p { clear: both; }

    & > p:last-child { padding-bottom: $col-padding/2; }

    @media screen and (min-width: 480px) and (max-width: $on-palm) {
        width: 98vw;
        left: -2 * $col-padding;
    }


    @media screen and (max-width: 480px) {

        min-width: 100vw;
        left: -1rem;
        padding: 0 1rem;
    
        & > p:last-child { padding-bottom: 1rem; }
    }
}

.slide .expanded.show {

    // height for expanded info panel

    max-height: 65rem;

    @media screen and (max-width: 480px) {
        max-height: 100rem;
    }


    // mailchimp embed form
    & div#mc_embed_signup {
    
        width: 75%;
        float: left;
        margin-left: 12.5%;

        label { display: none; }
        
        & div.mc-field-group,
        & div.clear {
        
            display: inline;
            float: left;

        }

        // mc input field
        & div.mc-field-group {

            width: 90%;
            margin-bottom: 1.55rem;

            & input {
                width: 100%;
                height: 2.75rem;
                color: $backgroundColour;
                border: 2px solid $backgroundColour;
                padding-left: 1rem;
                border-radius: 0;
            }

            & input::placeholder {
                font-family: unquote(map-get($headingtype, font-family));
                font-style: normal;
                font-weight: map-get($bodytype, regular);
            }
       }

        // mc input button
        & div.clear { width: 10%; float: right; }
        & div.clear input.button {

            height: 2.75rem;
            background-color: $backgroundColour;
            color: $bodyColour;
            font-size: 2rem;
            padding: 0 0.3rem;
            border: unset;
            border-radius: 1px;
            margin: 0;
        }

        & div.clear input.button:hover {
            color: $linkColour;
        }
    }

    @include transdefaults(max-height .3s ease-out 0s)


}

h2.post-title {
    text-transform: uppercase;
}

header.post-header p {
    text-indent: 0;
    text-align: center;
}

article.post {
    margin-bottom: 4rem;
}

article.post div.post-content {

    & ul {
        list-style: decimal;
    }

    & ol li, & ul li {

        padding-top: .75rem;
        text-indent: 0;
        padding-left: .5rem;
    }
}

// Perfect scrollbar overrides
//
// issue with typeset text-indent applying to images
// wrapped in <p> as parsed by markdown, forcing
// x scroll

.ps#left {

    .ps__scrollbar-y-rail{ left: 0; }
    .ps__scrollbar-x-rail{ display: none; }
}

.ps#right {

    .ps__scrollbar-y-rail{ right: 0.2rem; }
    .ps__scrollbar-x-rail{ display: none; }

}

// * * * * * Splash Page Elements * * * * *

.main-wrapper#splash {
    
    overflow: hidden;
    background-color: lighten($bodyColour, 10%);

    .residents {

        position: fixed;
        text-align: left;
        height: 0;
        width: 250vw;
        // /* FF3.5+ */
        // -moz-transform: rotate(90.0deg);
        // /* Opera 10.5 */
        // -o-transform: rotate(90.0deg);
        // /* Saf3.1+, Chrome */
        // -webkit-transform: rotate(90.0deg);
        // /* Standard */
        // transform: rotate(90.0deg);
        top: 15%;
        left: 9%;
    }

    .residents div {
        min-height: 5rem;
        // margin-bottom: 8rem;
    }

    .residents span {
        display: inline-block;
        overflow: hidden;
        padding-left: 1rem;
        padding-right: 2rem;
        padding-top: 1rem;
        line-height: 8rem;
        letter-spacing: 1rem;

        font-family: Kadisoka;
        text-transform: uppercase;
        font-size: 9rem;
    }

    .residents span:nth-of-type(1){
        width: 8vw;
        text-align: left;
        display: none;
    }   

    .residents span:nth-of-type(2){
        // width: 39vw;
        text-align: left;
    }

    .residents #bedouin{

        span:nth-of-type(1){
            color: $bSalmon;
            background-color: rgba($bYellow,.9);
        }
        span:nth-of-type(2){
            color: $bYellow;
            background-color: rgba($bSalmon,.9);
        }
    }

    .residents #hardworking {

        span:nth-of-type(1){
            color: $hwBlue;
            background-color: rgba($hwOrange,.9);
        }

        span:nth-of-type(2){
            // float: right;
            color: $hwOrange;
            background-color: rgba($hwBlue,.9);
        }
    }
    .residents #martine{

        span:nth-of-type(1){
            color: $msFuschia;
            background-color: rgba($msGreen,.9);
        }
        span:nth-of-type(2){
            color: $msGreen;
            background-color: rgba($msFuschia,.9);
        }

    }

    div.scroll-wrapper {
        max-height: 100vh;
        overflow: auto;
        margin-right: -25px;
    }

    div.scroll-wrapper div {

        width: 20%;
        max-width: 300px;
        float: left;

        span { 
            display: block; 
            font-family:  Lars, "Helvetica Neue", sans-serif;
            font-size: 1rem;
            line-height: 1.1rem;
            color: $backgroundColour;
            text-transform: uppercase;
        }
    }

    div.col-2 {
        margin-left: 15%;
    }
}